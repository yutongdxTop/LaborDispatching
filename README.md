# LaborDispatching
#                                            需求规格说明书 
# 1. 引言
## 1.1 系统名称
《劳务派遣公司管理系统》

## 1.2 项目背景
&emsp;&emsp;一家劳务派遣公司提供服务出租，自身有一些员工，另外还有很多自由职业者作为服务商存在。公司目前使用Excel工作表来管理他们的客户（自由职业者），时间表等。Excel解决方案无法很好地进行扩展。它无法应对多用户使用的场景，也不提供安全和审计日志。因此决定构建一个新的基于Web的解决方案。

## 1.3 编写目的
&emsp;&emsp;编写该需求规格说明是为了明确软件需求、安排项目规划与进度、组织软件开发与测试，主要描述了对软件系统的需求分析和总体设计，并记录在以后软件设计师会用到的数据以及功能。



# 2. 功能性需求分析

## 2.1 系统概述
&emsp;&emsp;为了应对多用户使用的场景与方便信息的录入和管理，开发该劳务派遣公司管理系统。通过劳务派遣公司管理系统，用户在系统注册账号，管理员可以管理客户、员工和项目信息，可以根据项目的分类匹配相应的自由职业者，也能对自由职业者的时间表安排进行相应的调整；客户可以在平台发布项目和修改个人资料；自由职业者可以修改个人信息，在平台调整自己的时间表和联系方式。系统会在每天下班前根据当天平台所发布的项目情况生成审计表。

## 2.2 功能性需求
1. 公司管理员可通过系统注册管理员账号，并管理客户、员工和项目信息。
2. 客户可通过系统注册客户账号，发布项目。
4. 自由职业者可通过系统注册自由职业者账号，在平台调整自己的时间表和联系方式。
5. 所有用户都可对自己的个人信息进行相应的修改。
6. 创建新用户或项目时，系统自动生成相应的编号和项目的发布时间。
7. 创建的新用户为全职员工时，系统自动生成一个该员工的空闲时间表，空闲起始时间为生成时，空闲结束时间为无穷大。
8. 每天一次定时生成审计表。
9. 每天零时维护一次时间表，将空闲起始时间在当日前的时间修改为当日起始。



## 2.3 数据需求

### 2.3.1 输入数据
1. 账号信息：用户名、密码
2. 个人信息：客户名称、客户联系电话、客户联系地址、客户类别、员工姓名、员工身份证号码、员工性别、员工身份、员工类别
3. 项目信息：项目类别、项目描述、关联客户编号、项目开始时间、项目结束时间、项目状态
4. 用户信息：账号信息、个人信息
5. 空闲时间：空闲起始时间、空闲结束时间
6. 联系方式：联系方式、联系方式的值

### 2.3.2 输出数据
1. 审计表：项目编号、项目类别、项目描述、关联客户编号、项目开始时间、项目结束时间、项目状态，项目生成时间

### 2.3.3 存储数据
1. 用户信息：用户名、密码、客户编号、员工编号
2. 客户信息：客户编号、客户名称、联系电话、联系地址、客户类别
3. 项目信息：项目编号、项目类别、项目描述、项目开始时间、项目结束时间、项目生成时间、项目状态、客户编号
4. 员工信息：员工编号、身份证号码、员工姓名、性别、员工身份、员工类别
5. 空闲时间信息：空闲时间编号、空闲起始时间、空闲结束时间、员工编号
6. 联系方式信息：联系方式编号、联系方式、联系方式值、员工编号



## 2.4 领域驱动设计

### 2.4.1 实体的定义
1. 管理员：公司的管理员，负责接收项目和安排工作人员。
2. 客户：发布项目的顾客。
3. 项目：客户发布的项目任务，每个项目包含一个客户信息，可归属于一个或多个员工。
4. 员工：公司的在职员工，包括全职员工和自由职业者，一个员工可以承接多个项目。
5. 全职员工：公司自身拥有的全职员工，随公司安排承接项目。
6. 自由职业者：自由安排空闲时间，可承接空闲时间内的项目的自由职业者。
7. 时间表：自由职业者的空闲时间表。
8. 联系方式：自由职业者不同的联系渠道。



### 2.4.2 领域模型

根据业务场景进行领域建模，得到图2.1所示的领域模型：

<center>
    <img style="border-radius: 0.3125em;" 
    src="https://img2020.cnblogs.com/blog/2319448/202105/2319448-20210502151622627-1776611379.png">
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">图2.1 领域模型图</div>
</center>


## 2.5 功能模型

### 2.5.1 数据流图
系统数据流图如图2.2所示：

<center>
    <img style="border-radius: 0.3125em;" 
    src="https://img2020.cnblogs.com/blog/2319448/202105/2319448-20210502113923479-1094746868.png">
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">图2.2 数据流图</div>
</center>


### 2.5.2 用例模型

系统用例图如图2.3所示：

<center>
    <img style="border-radius: 0.3125em;" 
    src="https://img2020.cnblogs.com/blog/2319448/202105/2319448-20210502150345114-1880531555.png">
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">图2.3 用例图</div>
</center>


## 2.6 数据模型

### 2.6.1 实体联系模型
1、实体及属性
（1）用户：用户名、密码、客户编号、员工编号
（2）客户：客户编号、客户名称、联系电话、联系地址、客户类别
（3）项目：项目编号、项目类别、项目描述、项目开始时间、项目结束时间、项目生成时间、项目状态、客户编号
（4）员工：员工编号、身份证号码、员工姓名、性别、员工身份、员工类别
（5）空闲时间信息：空闲时间编号、空闲起始时间、空闲结束时间、员工编号
（6）联系方式信息：联系方式编号、联系方式、联系方式值、员工编号

2、实体之间的联系
（1）1个用户对应1个客户，1个客户对应1个用户
（2）1个用户对应1个员工，1个员工对应1个用户
（3）1个客户对应n个项目，1个项目对应1个客户
（4）1个员工对应m个客户，1个客户对应n个员工
（5）1个员工对应n个项目，1个项目对应m个员工
（6）1个员工对应m个空闲时间信息，1个空闲时间信息对应一个员工
（7）1个员工对应n个联系方式信息，1个联系方式信息对应一个员工

3、系统ER图
系统ER图如图2.4所示：
<center>
    <img style="border-radius: 0.3125em;" 
    src="https://img2020.cnblogs.com/blog/2319448/202105/2319448-20210502021421300-1517820007.png">
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">图2.4 ER图</div>
</center>


### 2.6.2 对象模型（类图）

系统类图如图2.5所示：
<center>
    <img style="border-radius: 0.3125em;" 
    src="https://img2020.cnblogs.com/blog/2319448/202105/2319448-20210502012127730-2074237222.png">
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">图2.5 类图</div>
</center>


##  2.7 数据字典

### 2.7.1 数据项

| 名字         | 描述                                           | 定义                           | 位置                                                     |
| ------------ | ---------------------------------------------- | ------------------------------ | -------------------------------------------------------- |
| 用户名       | 用于指定某一个账户的一个字符串                 | 1{字符}10                      | 用户信息、账号信息                                       |
| 密码         | 用于登录某一个账户的一个字符串                 | 1{字符}20                      | 用户信息、账号信息                                       |
| 客户编号     | 唯一地标识一个客户的关键域                     | 1{数字}10                      | 客户信息、项目信息、个人信息、用户信息                   |
| 客户名称     | 用于指定某一个客户的一个字符串                 | 2{字符}20                      | 客户信息、个人信息、用户信息                             |
| 联系电话     | 用于表示某一个客户的可联系电话的一个字符串     | 7{字符}11                      | 客户信息、个人信息、用户信息                             |
| 联系地址     | 用于表示某一个客户的可联系地址的一个字符串     | 6{字符}50                      | 客户信息、个人信息、用户信息                             |
| 客户类别     | 用于标识客户身份的一个字符串                   | 2{字符}50                      | 客户信息、个人信息、用户信息                             |
| 项目编号     | 唯一地标识一个项目的关键域                     | 1{字符}15                      | 项目信息                                                 |
| 项目类别     | 用于标识项目类型的一个字符串                   | 2{字符}50                      | 项目信息                                                 |
| 项目描述     | 用于描述项目内容、薪酬、要求等详情的一个字符串 | 0{字符}255                     | 项目信息                                                 |
| 项目开始时间 | 表示项目开始的时间点的一个字符串               | 19{字符}19                     | 项目信息                                                 |
| 项目结束时间 | 表示项目结束的时间点的一个字符串               | 19{字符}19                     | 项目信息                                                 |
| 项目状态     | 用于标识项目当前状态的一个字符串               | [未接单\|员工编号]             | 项目信息                                                 |
| 项目生成时间 | 由系统自动生成的项目生成时的时间               | 19{字符}19                     | 项目信息                                                 |
| 员工编号     | 唯一地标识一个员工的关键域                     | 1{数字}10                      | 员工信息、个人信息、用户信息、空闲时间信息、联系方式信息 |
| 身份证号码   | 唯一地标识一个公民的一个字符串                 | 18{字符}18                     | 员工信息、个人信息、用户信息                             |
| 员工姓名     | 用于指定某一个员工的一个字符串                 | 2{字符}20                      | 员工信息、个人信息、用户信息                             |
| 性别         | 表示员工性别的一个字符串                       | [男\|女]                       | 员工信息、个人信息 、用户信息                            |
| 员工身份     | 标识员工在公司身份的一个字符串                 | [管理员\|全职员工\|自由职业者] | 员工信息、个人信息 、用户信息                            |
| 员工类别     | 用于标识员工可接的项目类型的一个字符串         | 2{字符}50                      | 员工信息、个人信息 、用户信息                            |
| 空闲时间编号 | 唯一地标识一个空闲时间的关键域                 | 1{数字}10                      | 空闲时间信息                                             |
| 空闲起始时间 | 表示空闲时间开始的时间点的一个字符串           | 19{字符}19                     | 空闲时间信息                                             |
| 空闲结束时间 | 表示空闲时间结束的时间点的一个字符串           | 19{字符}19                     | 空闲时间信息                                             |
| 联系方式编号 | 唯一地标识一个联系方式的关键域                 | 1{数字}10                      | 联系方式信息                                             |
| 联系方式     | 用于指定某一种联系方式的一个字符串             | 2{字符}50                      | 联系方式信息                                             |
| 联系方式值   | 表示一种联系方式的值的一个字符串               | 1{字符}50                      | 联系方式信息                                             |



### 2.7.2 数据流

| 名字     | 描述                                         | 定义                                                         | 流向                                                         |
| -------- | -------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 个人信息 | 由用户输入的注册账号时所填写的个人信息       | 个人信息=[客户名称+联系电话+联系地址+客户类别\|员工姓名+身份证号码+性别+员工身份+员工类别] | 由用户输入到系统，联机存储在数据库中                         |
| 账号信息 | 由用户输入的注册账号或登录时所填写的账号信息 | 账号信息=用户名+密码                                         | 由用户输入到系统，联机存储在数据库中                         |
| 用户信息 | 用户的个人信息和账号信息                     | 用户信息=个人信息+[客户编号\|员工编号]+账号信息              | 由用户输入到系统，联机存储在数据库中，当用户登录或修改个人信息时时流向相应的程序模块 |
| 客户信息 | 由管理员或客户输入的客户个人信息             | 客户信息=客户编号+客户名称+联系电话+联系地址+客户类别        | 由管理员或客户输入到系统，联机存储在数据库中，当需要修改或生成审计表时流向相应的程序模块 |
| 项目信息 | 由管理员或客户输入的项目信息                 | 项目信息=项目编号+项目类别+项目描述+客户编号+项目开始时间+项目结束时间+项目状态+项目生成时间 | 由管理员或客户输入到系统，联机存储在数据库中，当需要修改或生成审计表时流向相应的程序模块 |
| 员工信息 | 由管理员或员工输入的员工个人信息             | 员工信息=员工编号+员工姓名+身份证号码+性别+员工身份+员工类别 | 由管理员或员工输入到系统，联机存储在数据库中，当需要修改时流向相应的程序模块 |
| 空闲时间 | 由管理员或员工输入的员工的空闲时间表         | 空闲时间=空闲时间编号+空闲起始时间+空闲结束时间+员工编号     | 由管理员或员工输入到系统，联机存储在数据库中                 |
| 联系方式 | 由管理员或员工输入的员工联系方式             | 联系方式=联系方式编号+联系方式+联系方式的值+员工编号         | 由管理员或员工输入到系统，联机存储在数据库中                 |
| 审计表   | 每天一次送给审计员的当天项目情况的审计表     | 审计表=项目信息+客户名称                                     | 由产生审计表模块输出到打印机                                 |



### 2.7.3 数据存储

| 编号 | 名字     | 描述                                             | 定义                                                         | 位置                                                         |
| ---- | -------- | ------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| D1   | 用户信息 | 用户的用户名、密码和相关联的员工或客户编号       | 用户信息=用户名+密码+[客户编号\|员工编号]                    | 由注册模块上传信息，向登录模块提供信息                       |
| D2   | 客户信息 | 发布项目对应的客户相关信息                       | 客户信息=客户编号+客户名称+联系电话+联系地址+客户类别        | 由注册模块或管理客户信息模块上传信息，向生成审计表模块提供信息 |
| D3   | 项目信息 | 客户所发布的项目的相关信息                       | 项目信息=项目编号+项目类别+项目描述+客户编号+项目开始时间+项目结束时间+项目状态+项目生成时间 | 由管理项目信息模块或发布项目模块上传信息，向生成审计表模块提供信息 |
| D4   | 员工信息 | 公司的管理员、全职员工和自由职业者的个人相关信息 | 员工信息=员工编号+员工姓名+身份证号码+性别+员工身份+员工类别 | 由注册模块或管理员工信息模块更新信息                         |
| D5   | 空闲时间 | 自由职业者和全职员工的空闲时间表                 | 空闲时间=空闲时间编号+空闲起始时间+空闲结束时间+员工编号     | 由管理时间表信息模块或管理员工模块更新信息                   |
| D6   | 联系方式 | 自由职业者的不同联系渠道的相关信息               | 联系方式=联系方式编号+联系方式+联系方式的值+员工编号         | 由管理联系方式模块或管理员工模块更新信息                     |



### 2.7.4 数据处理

| 编号          | 模块         | 输入                                   | 输出                         | 处理描述                                                     |
| ------------- | ------------ | -------------------------------------- | ---------------------------- | ------------------------------------------------------------ |
| 1.1           | 注册         | 用户信息                               | 个人信息、用户信息           | 根据接收的用户信息创建一个账号，根据身份生成员工编号或客户编号与账号相关联，并将个人信息和账号信息存入数据库中 |
| 1.2           | 登录         | 账号信息、用户信息                     | 用户信息                     | 根据用户输入的账号信息和数据库中的用户信息相验证，得到登录个体 |
| 2.1           | 管理客户信息 | 客户信息                               | 客户信息                     | 根据输入的客户信息来更新数据库中的客户信息                   |
| 2.2           | 管理项目信息 | 项目信息                               | 项目信息                     | 根据输入的项目信息来更新数据库中的项目信息                   |
| 2.3           | 管理员工信息 | 员工信息                               | 员工信息                     | 根据输入的员工信息来更新数据库中的员工信息                   |
| 2.4、3.3、4.3 | 修改个人信息 | 用户信息、账号信息、客户信息、员工信息 | 账号信息、客户信息、员工信息 | 根据输入的用户信息来更新数据库中相应账号个体的账号信息、客户信息、员工信息 |
| 3.1           | 查看项目信息 | 项目信息                               | 项目信息                     | 从数据库中读取客户所有的项目信息呈现给客户                   |
| 3.2           | 发布项目     | 项目信息                               | 项目信息                     | 根据客户输入的项目信息新建项目                               |
| 4.1           | 管理时间表   | 空闲时间                               | 空闲时间                     | 根据输入的空闲时间更新数据库中该员工的时间表                 |
| 4.2           | 管理联系方式 | 联系方式                               | 联系方式                     | 根据输入的联系方式更新数据库中该员工的联系方式               |
| 5.1           | 读取项目信息 | 项目信息、客户信息                     | 项目信息、客户信息           | 从数据库中读取当日生成的项目的相关信息和对应的客户信息并传向生成审计表模块 |
| 5.2           | 生成审计表   | 项目信息、客户信息                     | 审计表                       | 根据读取的项目信息和客户信息整合成审计表，审计表按项目编号升序排列 |
| 5.3           | 打印审计表   | 审计表                                 | 审计表                       | 调用打印机打印审计表                                         |



## 3. 非功能性需求

## 3.1 性能需求
1. 响应时间：尽可能地短，达到1到2秒
2. 当天项目发布情况统计时间不超过30秒
3. 查询信息过程时间不超过30秒
4. 支持1000名用户并发使用，并保证性能不受影响

## 3.2 安全性需求
1. 权限控制：
根据不同用户角色，设置相应权限的界面。管理员可管理客户、员工和项目信息，客户只可发布项目和在被接单前删除项目，自由职业者只可管理自己的时间表和联系方式。
2. 重要数据加密：
对一些重要的数据进行加密，如用户密码，重要参数等。
3. 数据备份：
允许管理员进行数据的备份和恢复，以弥补数据的破坏和丢失。

## 3.3 可用性需求
1. 方便操作，操作流程合理。
2. 控制必录入项。
3. 一定的容错能力。
4. 统一规范的提示信息。
5. 支持多浏览器，系统访问方便。

## 3.4 运行环境
1. 客户端：
操作系统：Windows10（64位）
浏览器：Microsoft Edge浏览器、IE浏览器10/11、Chrome浏览器、360浏览器等多种主流浏览器。

2. 应用服务器端：
操作系统：Ubuntu  18.04 64位
应用服务器：Tomcat
数据库访问：MyBatis

3. 数据库服务器端：
操作系统：云数据库RDS版
数据库系统：MySQL 8.0



# 4. 总体设计
## 4.1 系统设计
### 4.1.1 系统流程图
系统流程图如图4.1所示：
<center>
    <img style="border-radius: 0.3125em;" 
    src="https://img2020.cnblogs.com/blog/2319448/202105/2319448-20210501163908491-771404830.png">
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">图4.1 系统流程图</div>
</center>

### 4.1.2 物理元素清单
​    1、硬件：
​           （1）服务器一台
​           （2）计算机一台
​           （3）显示器一台
​           （4）打印机一台
​    2、软件：
​           （1）五个程序
​                注册登录程序：获取账号信息验证登录、获取用户个人信息和账号信息验证注册
​                管理员功能程序：管理客户信息、管理项目信息、管理员工信息、修改个人信息                    
​                客户功能程序：查看项目信息、发布项目、修改个人信息
​                自由职业者功能程序：管理时间表、管理联系方式、修改个人信息
​                产生审计表程序：读取项目信息、生成审计表、打印审计表
​           （2）一个磁盘数据库：系统信息数据库（账号信息、个人信息、用户信息、项目信息、空闲时间、联系方式）

## 4.2 软件设计
### 4.2.1 HIPO图
系统HIPO图如图4.2所示：
<center>
    <img style="border-radius: 0.3125em;" 
    src="https://img2020.cnblogs.com/blog/2319448/202105/2319448-20210501214910570-1878044097.png">
    <br>
    <div style="color:orange; border-bottom: 1px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 2px;">图4.2 系统HIPO图</div>
</center>

## 4.3 数据库逻辑结构
1. 用户表（<u>用户名</u>、密码、<span style="text-decoration-line: underline; text-decoration-style: wavy;">客户编号、员工编号</span>）
2. 客户表（<u>客户编号</u>、客户名称、联系电话、联系地址、客户类别）
3. 项目表（<u>项目编号</u>、项目类别、项目描述、项目开始时间、项目结束时间、项目生成时间、项目状态、<span style="text-decoration-line: underline; text-decoration-style: wavy;">客户编号</span>）
4. 员工表（<u>员工编号</u>、身份证号码、员工姓名、性别、员工身份、员工类别）
5. 空闲时间表（<u>空闲时间编号</u>、空闲起始时间、空闲结束时间、<span style="text-decoration-line: underline; text-decoration-style: wavy;">员工编号</span>）
6. 联系方式表（<u>联系方式编号</u>、联系方式、联系方式值、<span style="text-decoration-line: underline; text-decoration-style: wavy;">员工编号</span>）
